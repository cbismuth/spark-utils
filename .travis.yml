language: java
jdk: oraclejdk8
install: mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test jacoco:report coveralls:report -P coverage -Dmaven.javadoc.skip=true -B -V
cache:
  directories:
    - "$HOME/.m2"
after_success:
  - mvn clean test -Dmaven.javadoc.skip=true -B -V
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/pubring.gpg.enc -out $DEPLOY_DIR/pubring.gpg -d
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/secring.gpg.enc -out $DEPLOY_DIR/secring.gpg -d
  - "$DEPLOY_DIR/scripts/publish.sh"
env:
  global:
    - DEPLOY_DIR="`pwd`/deploy"
    - secure: lK8P0MdU3gMPRfCekUiSK5+wK6pRdqC3WfvHDFRO31tqWQv1aPJzyziZp4GI4IjumDV+N8PA5SeDsJvXkPQaNxCGyuTUPnnAW+gF6zrEqFPoT4ZurTm7VZOgALiUHfofc9IeUlBjBwEmlKzUGuqWl3u3dTdCKANzBbN1e1KnFbM37SEKAvkGSQ+h4LxP7FCtTHh2/iPZi2gmt/xkyN956UueNhHRxTdAs7desDPY68jW/7ZWlX2pR1r6lmjTjy5J57xI/bydKcM+ZgznhmZJtCaW2UFV5pfelN0Nwr3tQycMrr0XSX4OMyosp7wSxxZ7FAtQErhW1Fe3/f/geTMkhOxwQUL/Ab45GlV4/p3TZj4yLCa8g3KwxYV3aQPa2Uh7vErhso/8UizmxgytT6qhcufsEa6OWm39Saupmp0+T5GPBmOPx6teLm+h81HxSyAS/wWXb9rZG/bxATPVBkf3JBxyx9bIwZCV7AMCsk11XUZQd5t7bYBdIyKiA+iS34Jsw0T/J4zSNOK3cVVAmM2OtWFEomIRmWat6J6v/vd/fPxSgJUHDUFrADlv0X+HjN6nxT+Ic0aTW/ixcbFvxJw/p5NlZqmPLmKKWsVHlJAP10a3D08O3HiMgL8RzG0OFGa8ihD+8FrVBFsrH5nts7ZUviCYbHDyDJ3/EaPzsTSWq9E=
    - secure: fD6AwHwvBFxaPNAXeX5gDYD1f4ySUC0YhgEp71zjn+jD4XrfU31L/1Ej0UuDF82L3y/7faFewMrV9uCFCpFlFHCk6BVmuDYrnAFI2WP6swlwr18nL2/kwjnh4BaOg0PFzN6jlL/blY6WiSFgbQilp98einQrfiG8q7HArGEXgVywyEpIQIDmbhVz7OQLjTkjhGJ3Eo0lM7k2WmPPHKFH/666K8E39ZomE0ff5DiGZ3105bQaE+VraIhk95s85I3xBrX5dzVOdHRBWVM5dsWH86UzLYg89m37MbkhagppdNMGrOTsahTfR32yj3TsHVhGcqTwoPdQzx6cBiJHdabNXEmBa3yTTso8Sn1nn2oJgjGCfFUMBNfEsQP+pvrXOS1YFPgYmNJGU7kmbZOrm9L0azk1XqqTaP2bEonv8oeWRlWxy3uBlyPdAyANx9Rwh4ojEIn7rb/8aJ7Nf4ifgWbaBRto6zkouch8z5+R/fisMfaacM8un9IG9wqGZuR8lCyJdcBSDAYMIAQikbC8tlSN90SBrlHK9tAV7noHaJfslnL9GIUrcEK4liNuv3f6sOn08fpOHJzZX18L+BDvvJpPLibT1MIAB+WQbHB2gmYWeF6Bh49YI/be38T60d/3/xJG8W0pEE3UsQaX4z4U1CwNZPXOQp2C7BZF04pbNOYBs1Q=
    - secure: gT9lu/XgEx6X5Ot5jy8+41TgkOEpwjrMtce+pu77oXvN8otTXK6OIMtk1DxnE+vyr0tg5Kcg8/qcKE3PUMjrHbUfe2p64n4ODFI1a7aHZiwWGHws2w2GAOYXfoA7I5Pz7C+HpvT6nGSkCt2AxX248w45W/IepsmHmnaCUKL+k+sEUMdkEOWZW5C131NqE3DRrIlwBMn3g41LqQEvbHeYltNes4VD3lJZalZ3XPVaqkue7Q3BXzH7oYYkKEZOUY4WASBVfKvDm3qIC/rl9jVzuRY7jl58IgICunaGO5BQQYOcaqsyqN58+kzGYBvKmYXsh8s3RPoRV1WLgXJfHIbOCpmoJ5TqUTxvWPv86P69yIbbOv5/ZgjsO6Rc3g25iGXRe/vfmQvdzaCneQtZnfbiQvL4o/zgQ+U+D+KbONldpul2/Gy/o5tuHUtdE9hYzii4XAskhhYPoFT3T0HcPiEBfHJQz6kXS5lF5fLdQ12tGNnWA/cTgno9j1EqEEkxjFmFHsBE72XklU6W6KYBBSTdIVbM3UtKcY3Uv/Or9cf8DXU30eieO/95LiBa8klCzgi5t4jOcCi3JeGVp/DepGfGew0XtAkHtwbm9PYgNR4nsQZY4VZ04gAfw4TQbeOByMBpv/LZp4cx5MVkFGUYCTYftK7KKWslUuLvljsddmS4qSU=
    - secure: QValyUn72658lzgEizkFfKsxZ1Zrjje0evpTbl9o59/DoG5QGMn2mF33GwYCGmzgkurq1P+A0cyE8WQbHZMRMr4+PZeIpjYaTCqXEhT98ADYoieiMFhNT9mGJ9q/Gf5lS0rVaZFKTTjXBX3tsqJ9+zdyTDkc8nBkqd77XYKfQyMD38C0t3x+zmOirf3pheUSi20gKOTVuMaQ7CC8IoneTF4QdDBsRyHg3S6ZGbeFz8GeetEzoMKYqwIVr+BUKf8tejxE465aWmH4QA2PXgQzGP1s2wNpPSyh++NUhKKd1pVHObQGZ454XtlWXRtBOV/06E4S/Oh3RVC2Pdeo9zw2CIW6i2t+20arYJWs6RFngow2LmFNku2LyKtc/UtYS7JCQ/Caok59nHkmdQLIPsUzYsoy2aMMrSX3Ac8nauwC4N6fABwDnLdjH+6AabsBjqz7pZDakWO6VeZykClzWELwEwqxQ/Y+HI/XkNrhFQR9PUA3oATyjPkEwMHUFmYEklQqUXes2A4Kdk2H0w7PocCk/PDqoo3GCKyTVB4v2HjJOAuv8vawER/XUM8koYXu/o02w6nmk3M+36792Y3FHo5ODwBfxcFDy4u+YpOxztfg/zr1vhSPJoK6LoRO5LCR9FwVLlTxwyqqziMH18UHleJCMhoYZmraZvdkxDg3uoYy5BQ=
    - secure: Zde2FCBE+uZHsTGVqmEJrNY7jQ+UhNsBEDp332XCsYupQ/euIdUeaQyfwybgPggsevZIgvRTI/7On74h/FxHVAWoOF7C9JBdNOGyqYsCRQbiG9f9RlGqsf7bNC8qKSrpE+ulIEOyOrOkofoOXBmgkfwBLXxf6ZQlXl/GzhCb0Lu/EpSad5H6Ti45EqAGv1olBETCvW2LFRb0DM+xOAtZaGavtu3AtvD4dNm7SwrPZm3c7txTOXAKZgHenaO7PYR9A+rBHbQvPHjknuAYxCa7/jj3+4MwimCybWyH2FCAkjb2Et8xzUNDph4YAYS1Yq/zBYfRMxTe3a4FC1hw03taFocnAj+ZOcr6oIqv1U3wYf16EU9LhY8aUybw2OxF8in8paGcH55/mE6qETdFf6FGHVzgdISrVrQRkd/XKV9R4s5+Gz05Aqa92bt/6Qj7NsuYUo9L0lDz1sblN8Fb0ko7ILwNbN/aKGYMUv5++pF4FodtV7ugh5jA0Qg8bdRzNCg1IMyUIixR1DwfIQNUwh3kIsvTY54/3zPH8En+jRhGgiEdToutdxOZF/hFhhZakrObuP2FiDD9ntN6Banu62SwI0ugYEvC9+wLk/7PCPvd0oVu5zwOl9UypQiayGMa3BSYwu7SF8BLtMS3iDXNzA4Cy6neumvp8sLcUn/ftIEVCck=
